<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selects</title>
</head>
<body>
    <form name="formulario">
        Introduzca texto: <input type="text" name="texto" onkeyup="habilitar()"/>
        <input type="button"  name="alta" onclick="aniadir()" value="A침adir" disabled/>
        <br/>

            <select name="lista1" multiple>
                <option value="uno">Opci칩n 1</option>
                <option value="dos">Opci칩n 2</option>
                <option value="tres">Opci칩n 3</option>
            </select>

            <input type="button" onclick="moverS('1')" value=">>"/>
            <input type="button" onclick="moverS('2')" value="<<"/>
            <input type="button" onclick="moverT('1')" value=">>|"/>
            <input type="button" onclick="moverT('2')" value="|<<"/>
            <input type="button" onclick="borrarT('1')" value="X1"/>
            <input type="button" onclick="borrarT('2')" value="X2"/>

            <select name="lista2" multiple>
            </select>
            <br/>
            <input type="button" onclick="copiar('1')" value="Copiar a la derecha"/>
            <input type="button" onclick="copiar('2')" value="Copiar a la izquierda"/>
            <br/>
            <input type="button" onclick="borrar('1')" value="Borrar de la izquierda"/>
            <input type="button" onclick="borrar('2')" value="Borrar de la derecha"/>
    </form>
    <script>
        function habilitar(){
            if(formulario.texto.value.length > 0){
                formulario.alta.disabled = false;
            }
            else{
                formulario.alta.disabled = true;
            }
        }

        function aniadir(){
            var texto = formulario.texto.value;
            formulario.lista1.options[formulario.lista1.length] = new Option(texto,texto,"","");
            formulario.texto.value = "";
            formulario.alta.disabled = true;
        }

        function moverS(direccion){
            var listaIzq = formulario.lista1;
            var listaDer = formulario.lista2;
            if(direccion == "1"){
                for(var i = listaIzq.length -1; i >=  0 ; i--){
                    if(listaIzq.options[i].selected){
                        listaDer.options[listaDer.length] = new Option(listaIzq.options[i].text,listaIzq.options[i].value,"","");
                        listaIzq.options[i] = null;
                    }
                }
            }
            else{
                for(var i = listaDer.length -1; i >=  0 ; i--){
                    if(listaDer.options[i].selected){
                        listaIzq.options[listaIzq.length] = new Option(listaDer.options[i].text,listaDer.options[i].value,"","");
                        listaDer.options[i] = null;
                    }
                }
            }

        }

        function moverT(direccion){
            var listaIzq = formulario.lista1;
            var listaDer = formulario.lista2;
            if(direccion == "1"){
                for(var i = listaIzq.length -1; i >=  0 ; i--){
                   
                        listaDer.options[listaDer.length] = new Option(listaIzq.options[i].text,listaIzq.options[i].value,"","");
                        listaIzq.options[i] = null;
                    
                }
            }
            else{
                for(var i = listaDer.length -1; i >=  0 ; i--){
                   
                        listaIzq.options[listaIzq.length] = new Option(listaDer.options[i].text,listaDer.options[i].value,"","");
                        listaDer.options[i] = null;
                    
                }
            }
        }
        function borrarT(direccion){
            var listaIzq = formulario.lista1;
            var listaDer = formulario.lista2;
            if(direccion == "1"){
                for(var i = listaIzq.length -1; i >=  0 ; i--){         
                    listaIzq.options[i] = null;
                }
            }
            else{
                for(var i = listaDer.length -1; i >=  0 ; i--){
                    listaDer.options[i] = null;
                }
            }
        }
        function copiar(direccion){
            var listaIzq = formulario.lista1;
            var listaDer = formulario.lista2;
            if(direccion == "1"){
                for(var i = listaIzq.length -1; i >=  0 ; i--){
                    if(listaIzq.options[i].selected){
                        listaDer.options[listaDer.length] = new Option(listaIzq.options[i].text,listaIzq.options[i].value,"","");
                       
                    }
                }
            }
            else{
                for(var i = listaDer.length -1; i >=  0 ; i--){
                    if(listaDer.options[i].selected){
                        listaIzq.options[listaIzq.length] = new Option(listaDer.options[i].text,listaDer.options[i].value,"","");
                        
                    }
                }
            }
        }
        function borrar(direccion){
            var listaIzq = formulario.lista1;
            var listaDer = formulario.lista2;
            if(direccion == "1"){
                for(var i = listaIzq.length -1; i >=  0 ; i--){
                    if(listaIzq.options[i].selected){
                        
                        listaIzq.options[i] = null;
                    }
                }
            }
            else{
                for(var i = listaDer.length -1; i >=  0 ; i--){
                    if(listaDer.options[i].selected){
                        
                        listaDer.options[i] = null;
                    }
                }
            }
        }
    </script>
</body>
</html>